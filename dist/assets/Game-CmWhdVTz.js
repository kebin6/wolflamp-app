import{_ as Fe}from"./avatar-Hh0ap730.js";import{B as ue}from"./Button-CBgglE8i.js";import{E as $,G as Me,H as Q,I as oe,d as D,J as z,K as Y,L as j,r as _,M as Ne,c as T,N as Ie,O as Be,Q as Qe,R as ke,k as y,S as Te,T as ie,U as L,V as xe,W as De,X as He,Y as Ge,B as Z,Z as X,$ as Ye,D as re,a0 as de,a1 as Le,a2 as Je,a3 as je,a as _e,i as P,f as g,t as N,h as B,w as K,P as Se,b as O,z as le,A as ce,_ as Ae,e as Ke,n as se,a4 as $e,a5 as We,F as me,a6 as fe,a7 as qe,a8 as ee,m as ze,p as ve,a9 as pe,s as ge,aa as Ze,y as Xe,l as he}from"./index-CpsHjDsr.js";import{g as et,a as tt}from"./index-DKBiJg9O.js";import{s as te}from"./toast-DWm0jl9M.js";import{_ as nt}from"./close-Uy8MzfNY.js";import"./index-D0Yk_raA.js";import"./_commonjsHelpers-Cpj98o6Y.js";const[ot,R,be]=$("picker"),Oe=e=>e.find(s=>!s.disabled)||e[0];function st(e,s){const o=e[0];if(o){if(Array.isArray(o))return"multiple";if(s.children in o)return"cascade"}return"default"}function J(e,s){s=oe(s,0,e.length);for(let o=s;o<e.length;o++)if(!e[o].disabled)return o;for(let o=s-1;o>=0;o--)if(!e[o].disabled)return o;return 0}const Ce=(e,s,o)=>s!==void 0&&!!e.find(i=>i[o.value]===s);function ae(e,s,o){const i=e.findIndex(v=>v[o.value]===s),c=J(e,i);return e[c]}function at(e,s,o){const i=[];let c={[s.children]:e},v=0;for(;c&&c[s.children];){const r=c[s.children],u=o.value[v];if(c=Me(u)?ae(r,u,s):void 0,!c&&r.length){const p=Oe(r)[s.value];c=ae(r,p,s)}v++,i.push(r)}return i}function lt(e){const{transform:s}=window.getComputedStyle(e),o=s.slice(7,s.length-1).split(", ")[5];return Number(o)}function ct(e){return Q({text:"text",value:"value",children:"children"},e)}const ye=200,we=300,At=15,[Ve,ne]=$("picker-column"),Ee=Symbol(Ve);var ut=D({name:Ve,props:{value:z,fields:Y(Object),options:j(),readonly:Boolean,allowHtml:Boolean,optionHeight:Y(Number),swipeDuration:Y(z),visibleOptionNum:Y(z)},emits:["change","clickOption","scrollInto"],setup(e,{emit:s,slots:o}){let i,c,v,r,u;const p=_(),h=_(),l=_(0),f=_(0),w=Ne(),I=()=>e.options.length,V=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,E=n=>{let t=J(e.options,n);const a=-t*e.optionHeight,A=()=>{t>I()-1&&(t=J(e.options,n));const U=e.options[t][e.fields.value];U!==e.value&&s("change",U)};i&&a!==l.value?u=A:A(),l.value=a},S=()=>e.readonly||!e.options.length,F=n=>{i||S()||(u=null,f.value=ye,E(n),s("clickOption",e.options[n]))},k=n=>oe(Math.round(-n/e.optionHeight),0,I()-1),x=T(()=>k(l.value)),H=(n,t)=>{const a=Math.abs(n/t);n=l.value+a/.003*(n<0?-1:1);const A=k(n);f.value=+e.swipeDuration,E(A)},M=()=>{i=!1,f.value=0,u&&(u(),u=null)},d=n=>{if(!S()){if(w.start(n),i){const t=lt(h.value);l.value=Math.min(0,t-V())}f.value=0,c=l.value,v=Date.now(),r=c,u=null}},m=n=>{if(S())return;w.move(n),w.isVertical()&&(i=!0,Te(n,!0));const t=oe(c+w.deltaY.value,-(I()*e.optionHeight),e.optionHeight),a=k(t);a!==x.value&&s("scrollInto",e.options[a]),l.value=t;const A=Date.now();A-v>we&&(v=A,r=t)},C=()=>{if(S())return;const n=l.value-r,t=Date.now()-v;if(t<we&&Math.abs(n)>At){H(n,t);return}const A=k(l.value);f.value=ye,E(A),setTimeout(()=>{i=!1},0)},b=()=>{const n={height:`${e.optionHeight}px`};return e.options.map((t,a)=>{const A=t[e.fields.text],{disabled:U}=t,G=t[e.fields.value],Re={role:"button",style:n,tabindex:U?-1:0,class:[ne("item",{disabled:U,selected:G===e.value}),t.className],onClick:()=>F(a)},Ue={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:A};return y("li",Re,[o.option?o.option(t,a):y("div",Ue,null)])})};return Ie(Ee),Be({stopMomentum:M}),Qe(()=>{const n=i?Math.floor(-l.value/e.optionHeight):e.options.findIndex(A=>A[e.fields.value]===e.value),t=J(e.options,n),a=-t*e.optionHeight;i&&t<n&&M(),l.value=a}),ke("touchmove",m,{target:p}),()=>y("div",{ref:p,class:ne(),onTouchstartPassive:d,onTouchend:C,onTouchcancel:C},[y("ul",{ref:h,style:{transform:`translate3d(0, ${l.value+V()}px, 0)`,transitionDuration:`${f.value}ms`,transitionProperty:f.value?"all":"none"},class:ne("wrapper"),onTransitionend:M},[b()])])}});const[it]=$("picker-toolbar"),W={title:String,cancelButtonText:String,confirmButtonText:String},rt=["cancel","confirm","title","toolbar"],dt=Object.keys(W);var mt=D({name:it,props:W,emits:["confirm","cancel"],setup(e,{emit:s,slots:o}){const i=()=>{if(o.title)return o.title();if(e.title)return y("div",{class:[R("title"),"van-ellipsis"]},[e.title])},c=()=>s("cancel"),v=()=>s("confirm"),r=()=>{var p;const h=(p=e.cancelButtonText)!=null?p:be("cancel");if(!(!o.cancel&&!h))return y("button",{type:"button",class:[R("cancel"),ie],onClick:c},[o.cancel?o.cancel():h])},u=()=>{var p;const h=(p=e.confirmButtonText)!=null?p:be("confirm");if(!(!o.confirm&&!h))return y("button",{type:"button",class:[R("confirm"),ie],onClick:v},[o.confirm?o.confirm():h])};return()=>y("div",{class:R("toolbar")},[o.toolbar?o.toolbar():[r(),i(),u()]])}});const[ft,un]=$("picker-group"),vt=Symbol(ft);Q({tabs:j(),activeTab:L(0),nextStepText:String,showToolbar:xe},W);const pt=Q({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:L(44),showToolbar:xe,swipeDuration:L(1e3),visibleOptionNum:L(6)},W),gt=Q({},pt,{columns:j(),modelValue:j(),toolbarPosition:De("top"),columnsFieldNames:Object});var ht=D({name:ot,props:gt,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:s,slots:o}){const i=_(),c=_(e.modelValue.slice(0)),{parent:v}=Ie(vt),{children:r,linkChildren:u}=He(Ee);u();const p=T(()=>ct(e.columnsFieldNames)),h=T(()=>Ge(e.optionHeight)),l=T(()=>st(e.columns,p.value)),f=T(()=>{const{columns:t}=e;switch(l.value){case"multiple":return t;case"cascade":return at(t,p.value,c);default:return[t]}}),w=T(()=>f.value.some(t=>t.length)),I=T(()=>f.value.map((t,a)=>ae(t,c.value[a],p.value))),V=T(()=>f.value.map((t,a)=>t.findIndex(A=>A[p.value.value]===c.value[a]))),E=(t,a)=>{if(c.value[t]!==a){const A=c.value.slice(0);A[t]=a,c.value=A}},S=()=>({selectedValues:c.value.slice(0),selectedOptions:I.value,selectedIndexes:V.value}),F=(t,a)=>{E(a,t),l.value==="cascade"&&c.value.forEach((A,U)=>{const G=f.value[U];Ce(G,A,p.value)||E(U,G.length?G[0][p.value.value]:void 0)}),re(()=>{s("change",Q({columnIndex:a},S()))})},k=(t,a)=>{const A={columnIndex:a,currentOption:t};s("clickOption",Q(S(),A)),s("scrollInto",A)},x=()=>{r.forEach(a=>a.stopMomentum());const t=S();return re(()=>{s("confirm",t)}),t},H=()=>s("cancel",S()),M=()=>f.value.map((t,a)=>y(ut,{value:c.value[a],fields:p.value,options:t,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:h.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:A=>F(A,a),onClickOption:A=>k(A,a),onScrollInto:A=>{s("scrollInto",{currentOption:A,columnIndex:a})}},{option:o.option})),d=t=>{if(w.value){const a={height:`${h.value}px`},A={backgroundSize:`100% ${(t-h.value)/2}px`};return[y("div",{class:R("mask"),style:A},null),y("div",{class:[Je,R("frame")],style:a},null)]}},m=()=>{const t=h.value*+e.visibleOptionNum,a={height:`${t}px`};return y("div",{ref:i,class:R("columns"),style:a},[M(),d(t)])},C=()=>{if(e.showToolbar&&!v)return y(mt,Le(de(e,dt),{onConfirm:x,onCancel:H}),de(o,rt))};Z(f,t=>{t.forEach((a,A)=>{a.length&&!Ce(a,c.value[A],p.value)&&E(A,Oe(a)[p.value.value])})},{immediate:!0});let b;return Z(()=>e.modelValue,t=>{!X(t,c.value)&&!X(t,b)&&(c.value=t.slice(0),b=t.slice(0))},{deep:!0}),Z(c,t=>{X(t,e.modelValue)||(b=t.slice(0),s("update:modelValue",b))},{immediate:!0}),ke("touchmove",Te,{target:i}),Be({confirm:x,getSelectedOptions:()=>I.value}),()=>{var t,a;return y("div",{class:R()},[e.toolbarPosition==="top"?C():null,e.loading?y(Ye,{class:R("loading")},null):null,(t=o["columns-top"])==null?void 0:t.call(o),m(),(a=o["columns-bottom"])==null?void 0:a.call(o),e.toolbarPosition==="bottom"?C():null])}}});const bt=je(ht),Ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAAAXNSR0IArs4c6QAAAR1QTFRFAAAAAAAAAAAAFy4XFSoVAAAACyALCh8KFB0UAAAAEyYTFiQWHCsVHDIVHDAcAAAAAAAABQkFBQkFBw4HAAAAAAAABwsGCQ8HCQ8HAAAABQkEBQkFBQsFAAAABAcEBQcEBQgEAAAAAgICBgoGCAwFBAgEBwwFBAgEBwcHAAAAAAAABgoFAwUCAwYDCQkJKUMkLUknP1A7Q2w5Q2w6R0pHT1FOT1JPUoVHU4ZIVllVaqxcbbBebrFfcHRvdnp1d8BnfIJ8fclsfoN9gYaAhsx2is57i7yAjL2Bl9OJl9OKm6KZnKOanaOcsd2ntLuzwOS5ydHIytLJzunIz9fN0NjO4PDc4erf4fDe4uvg5fLj5u/k5/Pl6fTn6vTo7PXq4YrTMQAAAC50Uk5TAAgJCwwVGBkaGxsjJCQlaGlub3GAgYmLjLO8vb3N1dbX2uPm6Onp6vP09fj7/Iy1FX0AAAEVSURBVBgZZcEJWwFRGAbQzzLVtFGWoqihZTQYy6VG2WkdTEJcvP//ZzRxH+pxDi1J3pCSSCghj0RrjoBqmNZoZJmG6neQIEeKAwiDQkSmBTnWxB+NmEw2Z6SJfxoRJxEFivjFaxxCwU8kqQPYOGMcwpcqkdeAjTPGsWJ4KGQC4CxdrggAzBApFoBuZQ2ApdDdGBtGCUqOsWGUpJtP2CprXcC6ovMP2CpCOc048H5Gx9kJVjhjHJhkj2hbe5lC4IxxYPqsbRGd6m/fWOI1Dny/6idE5L7Mt3pzCPNeK3fhJtvhdb7e7vSHs9mw32nXc7cHtLAf1Z/qwqMe3SPBFdQyD6VqtXSf0YIuWtv1heOpVDzs26GFH6JMccJRizeRAAAAAElFTkSuQmCC",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAaCAMAAACaYWzBAAAAAXNSR0IArs4c6QAAAnxQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgoKAAAAAAAAAAAABQUFAAAAAAAAAAAAAAAADAwMAAAADAwMAAAAAAAAAAAACwsLAAAAAAAAAAAAAAAAJSUlAAAAAAAAAAAAAAAAAAAAExMTJycnAAAAAAAAAAAABQUFEhISHh4eAAAANTU1AAAAPDw8SkpKS0tLAgICAAAAICAgJSUlDw8PXV1dERERBwcHbW1tMTExDw8PQ0NDdnZ2ERERcXFxFRUVdnZ2f39/IiIiMTExWFhYFBQUMTExFhYWIiIijIyMXFxcICAgPT09l5eXIiIiWVlZoqKiYmJiZGRkUFBQUVFRo6OjpqamOjo6////ERERExISGBgYGhoaHBwcHh4eHx8fIyMjJSUlKCgoKioqKysrLy8vMDAwMTExMjIyMzMzNjY2ODg4OTk5Ozs7PDg7PDw8PT09Pj4+Pz8/QEBAQUFBQ0NDRD5CR0dHSEhISTtESUlJS0tLT09PUFBQUVFRVFRUVVVVVlZWWlpaW1tbXFxcXVxdXV1dXl1dXl5eX19fYF5fYWFhYmJiY2NjZGRkamVna2trbW1tcHBwcnJyeHh4eXl5f39/hISEhYWFh4eHiYmJioqKi3qGj4+PkJCQmJiYo6Ojpqamqqqqrq6usbGxubm5wMDAwsLCw8PDxcXFzMzM0dHR09PT1NTU1tbW2NjY2tra3KvM3Nzc5OTk6urq7Ozs8fHx8/Pz9PT09vb2+Pj4+vr6+/v7/f39/v7+////W1ch6wAAAG10Uk5TAAEDBAUGCAkMDg8QEhUYGRocICEiJSYqKywwMTM0NTY3OTo9Pj9AQUJERUZISktMTE1OT1BRUlRVV2FhYmVob3ByfH5/gIiKjI6Tlpqbnaenqamsra62u72+xs7S0tPW1uPr7u7y8/j4+Pj8/qOb8bMAAAGsSURBVBgZZcGHX4xxAAfgbwgRGZVs11l3UpLslb0zi1LZe+8R2pmRo98r71GpKKMozUtnJeTl7vsPee99rzufPA90vvPGhu7ZaViwfo0ZPv5zoJuQE7ebVMh2kh8n9jl8zx+a5VZhYacO+3NLCnTj7+dJ2T/psQO6HvvYVl5Gr7fQjGhkF0eS4bKZ/5sOYEZlwS9qHJ9aK17Yv9lsTs4EcIhuytGHVJ0iS9gUACTR7Zo4XvuHvELW2xgDrKXOeVFkU3WdZAtXAgepc+SKLCfJC1+UzBYuApY4qDv5+NGZts/nJFEoN7cOBDbyxOWXVNU9eyIJl+qMHwwFtryTxV26nJaFEHeO3S56Ty4GuqeJQgs1388/sH69mfqB5KWhMMvihkK3Dntag0LW5EvxWCZb3rCLV4nFCRhzdsOBUv7Lya0Y1AuqIe3kb3rNRafBU+bTo3SvHzy6pebT5TV5Sx4Hr0lPC/L2x66uWjH7qiS2w63vaPOqIusuU3iEKWLqwvSSbZNNw3yhCo6aFr1pnTlSN2tpZFR0WD9oeg8IChlpMBiNRsOo4SGB/XsC+AsULz/7Bzr1OwAAAABJRU5ErkJggg==",wt="/assets/wolf-IBMqgako.gif",It="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAMAAACVmVC1AAAAAXNSR0IArs4c6QAAASlQTFRFAAAAAAAAGjMAAAAAAAAACRMFCRIFAAAAAAAAAAAAAAAAAgUCAgUCAgcCAgYCAwkCAwkCBQwDBQwDAAAAAAAABQoDBAkDAAAAAAAAAQUBAgUBAgcCAAAAAAAAAQQBAQQBAgQBAAAAAAAAAAEAAAAAAgQBAgUBAwgCBQ0DBgYABwcABxAFCBYFChoGDSQIEzQMGRgCGkUQHkIWIloVKGsZKm8aMYIfNjMGNzQGN3cpN3gpOHkpOHoqOHsqOZcjQawpQpAxRJcxRJcyRpc0SL4tSMAtScEuSkYISsYvS0cIS601Ts4xUs43U9w0VdY3Vdc3VuU2V+g3WOU4WOY4WOk3We04W+45W/I5XPM6cmwNc20Nm5IRnZQR0cUY0sYY59oa6Nsa8uQb8+Uco7Qx/gAAACR0Uk5TAAYKLzA3OJSVlpiam5ydoqOlp72+ysvW2N7e4fT1+/z8/f7+cirHcAAAAT9JREFUOMvtlddOgkEQhQ9NAXtFpegPh6L0qlgABRQpShH47bLv/xBeaKIJ7KL3fLf7JTtzZpIBAJitDjfHcTmsJnxhsGuUodkMAGDYZDBz/aCP06lmgtwwALAzWtNl1KK0AWYtKFd0vRbUTLAyo6vIcB47rCqdKh1ws6N0OnSB1NWQM+fvTvL35iQnO43AjxJoSP7K8mQkhBCjY2Zl9bQjfBFCiGdG2tKaC0x8CPGeYEHe1zDOJyEeGR8qeq/w6O31kBVlPmne3jCtzrAVIkOtKTnnyNy0WfRjsf7UeRWLs139t9NTKj0S+7y6Vyh3lzyAk6flerM7mPA+6Dbr5TydWGaqrCLFJcx5AxcK5dzvtQCrDMulszBXABi3GUjlSxOEUj7l55YRAIzrPukt8K0Zvy+GZXHXM0Hw7C1YAOATGaPFqUPYVnMAAAAASUVORK5CYII=",Pe=e=>(le("data-v-40ccf7fb"),e=e(),ce(),e),Bt={class:"picker-cmp"},kt=Pe(()=>g("section",{class:"label"},"STAKE",-1)),Tt={class:"value"},xt=Pe(()=>g("img",{src:It},null,-1)),_t=D({__name:"Picker",props:{modelValue:{default:0},disabled:{type:Boolean,default:!1}},emits:["confirm","update:modelValue"],setup(e,{emit:s}){const o=e,i=s,c=_e(),v=T(()=>{var w;let l=[],f=((w=c.user.info)==null?void 0:w.lamb)||0;return f>=10&&l.push({text:"10",value:"10"}),f>=20&&l.push({text:"20",value:"20"}),f>=150&&l.push({text:"150",value:"150"}),f>=200&&l.push({text:"200",value:"200"}),l}),r=_(!1);let u=T({get(){return o.modelValue},set(l){i("update:modelValue",l)}});const p=()=>{o.disabled||(r.value=!0)},h=({selectedOptions:l})=>{r.value=!1,u.value=+l[0].value};return(l,f)=>{const w=bt,I=Se;return O(),P("section",Bt,[g("section",{class:"picker-box",onClick:p},[kt,g("section",Tt,N(B(u)),1),xt]),y(I,{show:r.value,"onUpdate:show":f[1]||(f[1]=V=>r.value=V),round:"",position:"bottom"},{default:K(()=>[y(w,{columns:v.value,onCancel:f[0]||(f[0]=V=>r.value=!1),onConfirm:h},null,8,["columns"])]),_:1},8,["show"])])}}}),St=Ae(_t,[["__scopeId","data-v-40ccf7fb"]]);function Ot(){const e=(v,r)=>Math.floor(Math.random()*(r-v+1)+v),s=document.querySelector(":root"),o=10,i={1:{x:[20,80],y:[20,85]},2:{x:[20,80],y:[20,85]},3:{x:[20,80],y:[20,85]},4:{x:[20,80],y:[20,85]},5:{x:[20,80],y:[20,85]},6:{x:[20,80],y:[20,85]},7:{x:[20,80],y:[20,85]},8:{x:[20,80],y:[20,85]}},c={};return Object.entries(i).forEach(([v,r])=>{let u=1;for(;u<=o;){const[p,h]=r.x,[l,f]=r.y,w=e(p,h),I=e(l,f);s.style.setProperty(`--juan${v}-lambs${u}-x`,`${w}%`),s.style.setProperty(`--juan${v}-lambs${u}-y`,`${I}%`),c[`juan${v}-lambs${u}-x`]=w,c[`juan${v}-lambs${u}-y`]=I,++u}}),{positionVar:c}}const Vt=e=>(le("data-v-ec662956"),e=e(),ce(),e),Et={class:"num"},Pt=Vt(()=>g("section",{class:"unit"},"LAMBS",-1)),Rt={class:"close-icon"},Ut=D({__name:"ResultDialog",props:{modelValue:{type:Boolean,default:!1},type:{default:"success"},num:{default:0}},emits:["update:modelValue","onClose"],setup(e,{emit:s}){const o=e,i=s,c=T({get(){return o.modelValue},set(r){i("update:modelValue",r)}}),v=()=>{c.value=!1,i("onClose")};return(r,u)=>{const p=Se;return O(),Ke(p,{show:c.value,"onUpdate:show":u[1]||(u[1]=h=>c.value=h),class:"result-dialog","close-on-click-overlay":!1,onClose:v},{default:K(()=>[g("section",{class:se(["box",r.type])},[g("section",Et,N(o.num),1),Pt],2),g("section",Rt,[g("img",{src:nt,onClick:u[0]||(u[0]=h=>c.value=!1)})])]),_:1},8,["show"])}}}),Ft=Ae(Ut,[["__scopeId","data-v-ec662956"]]),q=e=>(le("data-v-f2e0521b"),e=e(),ce(),e),Mt={class:"page-game-header"},Nt={class:"left"},Qt=q(()=>g("img",{class:"avatar",src:Fe},null,-1)),Dt={class:"number"},Ht={class:"right"},Gt={class:"time"},Yt={class:"juan-box"},Lt=["onClick"],Jt={class:"juan-item__wrapper"},jt={class:"number"},Kt={class:"lambs-box"},$t=q(()=>g("img",{src:yt},null,-1)),Wt={key:0,class:"remark"},qt=q(()=>g("section",null,"You",-1)),zt={class:"page-game-op"},Zt=q(()=>g("section",{class:"remark"},"Previous round：1",-1)),Xt=["src"],en=D({__name:"Game",setup(e){const s=_e();let o=$e({time:0,onFinish:async()=>{console.log("倒计时结束"),te(),await w(l.value.id),ve()}}),i=(o==null?void 0:o.current)||{},c=T(()=>{if(!o)return"00:00";let d=o.current,m=d.value.minutes,C=d.value.seconds;return`${m<10?`0${m}`:m}:${C<10?`0${C}`:C}`});const v=()=>{if(!l.value)return;let d=l.value.openAt*1e3-Date.now();o.reset(d),o.start()};Ot();let r=_(""),u=_(!1);const p=()=>{var d,m;console.log("动画完成"),console.log(((d=l.value.resultInfo)==null?void 0:d.profitAndLoss)!==0),I.value=((m=l.value.resultInfo)==null?void 0:m.profitAndLoss)!==0},h=d=>{let m=d.foldInfo,C=d.playerInvestInfo,b=Object.entries(C).filter(n=>n[1].lambNum>0)[0]||null;d.playerInvestFold=b;for(let n in m){let t=m[n];t.showLamb=tt(t.lambNum>=12?12:t.lambNum||0,8),b&&b[0]===n&&(t.playerInvestLambCount=b[1].lambNum)}d.foldInfoByFormat=[];for(let n=1;n<=8;n++)d.foldInfoByFormat.push(m[`fold${n}`]);return d},l=_({}),f=d=>new Promise(async(m,C)=>{try{const{data:b}=await pe({id:d});l.value=h(b),console.log(l.value),m(b)}catch(b){C(b)}}),w=d=>new Promise(async(m,C)=>{var b;try{const{data:n}=await pe({id:d});!n.resultInfo||((b=n.resultInfo)==null?void 0:b.foldNum)===0?m(w(l.value.id)):(m(n),u.value=!0,l.value.resultInfo=n.resultInfo,r.value=`3.5s ease 0s 1 normal forwards running move${n.resultInfo.foldNum}`)}catch(n){C(n)}}),I=_(!1),V=T(()=>{var d,m,C;return(((d=l.value.resultInfo)==null?void 0:d.profitAndLoss)||0)>0?"success":(((m=l.value.resultInfo)==null?void 0:m.profitAndLoss)||0)<0?"fail":(((C=l.value.resultInfo)==null?void 0:C.profitAndLoss)===0,"")}),E=async()=>{S()},S=async()=>{te(),r.value="",u.value=!1,I.value=!1,k.value=0,x.value=0,s.getInfo(),await f(),v(),ve()};let F=T(()=>!!(l.value.playerInvestFold||u.value)),k=_(0),x=_(0);const H=d=>{F.value||(k.value=k.value===d?0:d)},M=async()=>{if(k.value===0)return ge("Please select lamb fold");if(!x.value)return ge("Please select stake");try{te("Investing..."),await Ze({foldNo:k.value,lambNum:x.value,roundId:l.value.id}),s.getInfo(),await f(),k.value=0,x.value=0,Xe("Success")}catch{}};return We(async()=>{await f(),v()}),(d,m)=>{var C,b;return O(),P("section",{class:se(["page-game",{danger:B(u)},{bg2:B(u)}])},[g("section",Mt,[g("section",Nt,[Qt,g("section",Dt,N(((C=B(s).user.info)==null?void 0:C.lamb)||0),1),g("img",{class:"exchange",src:Ct,onClick:m[0]||(m[0]=n=>d.$router.push("/exchange"))})]),g("section",Ht,[y(ue,{type:"p2",class:"btn",onClick:m[1]||(m[1]=n=>d.$router.push("/wallet"))},{default:K(()=>[he("WALLET")]),_:1})]),g("section",Gt,N(B(c)),1)]),g("section",Yt,[(O(!0),P(me,null,fe(l.value.foldInfoByFormat,(n,t)=>(O(),P("section",{class:se(["juan-item",{active:n.foldNo===B(k)}]),key:t,onClick:a=>H(n.foldNo)},[g("section",Jt,[g("section",jt,N((n==null?void 0:n.lambNum)||0),1),g("section",null,[(O(!0),P(me,null,fe(n==null?void 0:n.showLamb,(a,A)=>(O(),P("section",{class:"lambs",key:a},[g("section",Kt,[$t,n!=null&&n.playerInvestLambCount&&A+1===(n==null?void 0:n.showLamb)?(O(),P("section",Wt,[qt,g("section",null,N(n==null?void 0:n.playerInvestLambCount),1)])):ee("",!0)])]))),128))])])],10,Lt))),128))]),B(u)?(O(),P("img",{key:0,class:"wolf",style:qe({animation:B(r)}),src:wt,onAnimationend:p},null,36)):ee("",!0),g("section",zt,[y(St,{class:"picker",modelValue:B(x),"onUpdate:modelValue":m[2]||(m[2]=n=>ze(x)?x.value=n:x=n),disabled:B(F)},null,8,["modelValue","disabled"]),y(ue,{class:"btn",onClick:M,disabled:B(F)},{default:K(()=>[he("INVEST")]),_:1},8,["disabled"]),Zt]),B(i).minutes===0&&B(i).seconds<=3&&B(i).seconds>=1?(O(),P("img",{key:1,src:B(et)(`${B(i).seconds}.png`),class:"danger-index"},null,8,Xt)):ee("",!0),y(Ft,{modelValue:I.value,"onUpdate:modelValue":m[3]||(m[3]=n=>I.value=n),type:V.value,onOnClose:E,num:(b=l.value.resultInfo)==null?void 0:b.profitAndLoss},null,8,["modelValue","type","num"])],2)}}}),rn=Ae(en,[["__scopeId","data-v-f2e0521b"]]);export{rn as default};
