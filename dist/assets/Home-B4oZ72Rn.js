import{B as y}from"./Button-BWSBoGnF.js";import{d as E,u as Y,a as j,r,c as V,o as K,b as R,e as M,w as g,f as e,g as d,v as W,h as p,t as $,i as S,j as _,k as w,l as b,n as J,m as q,s as m,p as Q,q as X,x as Z,y as ee,P as se,z as F,A as B,_ as D,B as te,F as oe,C as ae,D as le}from"./index-Br0lMVMS.js";import{_ as ie}from"./back-Kr7dO9h3.js";import{_ as ne}from"./close-Uy8MzfNY.js";import{s as U}from"./toast-D8h3nvkb.js";const re="/assets/game-Dk6ghKIF.png",ue=l=>(F("data-v-370ebf40"),l=l(),B(),l),ce={class:"box-header"},de={class:"title"},pe={key:0,class:"box-content"},me={class:"input-wrapper"},ve={class:"input-wrapper",style:{"margin-bottom":"0"}},_e=ue(()=>e("section",{class:"forget-wrapper"},"Â ",-1)),fe={key:1,class:"box-content"},ge={class:"input-wrapper"},we={class:"input-wrapper"},he={class:"input-wrapper"},Ce={class:"input-wrapper"},ye={class:"close-icon"},Re=E({__name:"LoginOrReg",setup(l,{expose:x}){const v=Y(),I=j();let a=r(!1),u=r("login"),c=V(()=>u.value==="login"),f=60,h=r(!1),C=r(f),k=r(),P=V(()=>h.value?`${C.value}s`:"Send");const i=r({email:"",password:""}),t=r({email:"",password:"",invitedCode:"",captchaCode:""}),O=(n="login")=>{a.value=!0,u.value=n},T=n=>{u.value=n,i.value={email:"",password:""},t.value={email:"",password:"",invitedCode:"",captchaCode:""}},N=async()=>{if(!i.value.email)return m("Email is Required");if(!i.value.password)return m("Password is Required");await U(),await I.login({email:i.value.email,password:i.value.password}),Q(),v.push("/game")},z=async()=>{try{if(!t.value.email)return m("Email is Required");await X({email:t.value.email}),h.value=!0,k.value=setInterval(()=>{--C.value,C.value===0&&(clearInterval(k.value),C.value=f,h.value=!1)},1e3)}catch{}},A=async()=>{try{if(!t.value.email)return m("Email is Required");if(!t.value.captchaCode)return m("Verification code is Required");if(!t.value.password)return m("Password is Required");if(!t.value.invitedCode)return m("Invited Code is Required");U(),await Z(t.value),ee("Success")}catch{}},G=n=>{t.value.invitedCode=n};return K(()=>{clearInterval(k.value)}),x({open:O,autoInputInviteCode:G}),(n,s)=>{const H=se;return R(),M(H,{show:p(a),"onUpdate:show":s[9]||(s[9]=o=>q(a)?a.value=o:a=o),class:"login-or-reg-cmp"},{default:g(()=>[e("section",{class:J(["box",{"reg-box":!p(c)}])},[e("section",ce,[d(e("img",{src:ie,class:"back",onClick:s[0]||(s[0]=o=>T("login"))},null,512),[[W,!p(c)]]),e("section",de,$(p(c)?"Login":"Register"),1)]),p(c)?(R(),S("section",pe,[e("section",me,[d(e("input",{type:"email",class:"form",placeholder:"Your Email","onUpdate:modelValue":s[1]||(s[1]=o=>i.value.email=o)},null,512),[[_,i.value.email]])]),e("section",ve,[d(e("input",{type:"password",placeholder:"Password",class:"form","onUpdate:modelValue":s[2]||(s[2]=o=>i.value.password=o)},null,512),[[_,i.value.password]])]),_e,w(y,{class:"btn",onClick:N},{default:g(()=>[b("Login")]),_:1}),e("section",{class:"reg",onClick:s[3]||(s[3]=o=>T("register"))},"Register")])):(R(),S("section",fe,[e("section",ge,[d(e("input",{type:"email",placeholder:"Your Email","onUpdate:modelValue":s[4]||(s[4]=o=>t.value.email=o),class:"form"},null,512),[[_,t.value.email]])]),e("section",we,[d(e("input",{style:{flex:"1"},type:"text",placeholder:"Verification code",class:"form","onUpdate:modelValue":s[5]||(s[5]=o=>t.value.captchaCode=o)},null,512),[[_,t.value.captchaCode]]),w(y,{class:"btn-v",type:"p2",onClick:z,disabled:p(h)},{default:g(()=>[b($(p(P)),1)]),_:1},8,["disabled"])]),e("section",he,[d(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":s[6]||(s[6]=o=>t.value.password=o),class:"form"},null,512),[[_,t.value.password]])]),e("section",Ce,[d(e("input",{type:"text",placeholder:"Invited Code","onUpdate:modelValue":s[7]||(s[7]=o=>t.value.invitedCode=o),class:"form"},null,512),[[_,t.value.invitedCode]])]),w(y,{class:"btn reg-btn",onClick:A},{default:g(()=>[b("REGISTER NOW")]),_:1})]))],2),e("section",ye,[e("img",{src:ne,onClick:s[8]||(s[8]=o=>q(a)?a.value=!1:a=!1)})])]),_:1},8,["show"])}}}),be=D(Re,[["__scopeId","data-v-370ebf40"]]),L=l=>(F("data-v-7e9c8ddb"),l=l(),B(),l),xe={class:"page-home"},Ie=L(()=>e("img",{src:re,class:"title"},null,-1)),ke=L(()=>e("section",{class:"msg"},"Gameplay Introduction",-1)),Se=E({__name:"Home",setup(l){const x=ae(),v=r(),I=()=>{var a;(a=v.value)==null||a.open()};return te(x,async a=>{var c,f;let u=a.query.invite;u&&(await le(),(c=v.value)==null||c.open("register"),(f=v.value)==null||f.autoInputInviteCode(u))},{deep:!0,immediate:!0}),(a,u)=>(R(),S(oe,null,[e("section",xe,[Ie,w(y,{class:"btn",onClick:I},{default:g(()=>[b("START")]),_:1}),ke]),w(be,{ref_key:"loginOrRegRef",ref:v},null,512)],64))}}),Ee=D(Se,[["__scopeId","data-v-7e9c8ddb"]]);export{Ee as default};
