import{B as y}from"./Button-7n2lWGua.js";import{d as B,u as Y,a as j,r,c as V,o as M,b as R,e as Q,w as f,f as e,g as d,v as W,h as p,t as $,i as T,j as _,k as w,l as x,n as J,m as q,s as m,p as K,q as X,x as Z,y as ee,P as se,z as E,A as D,_ as F,B as ae,F as oe,C as te,D as le}from"./index-BDfR2T7Q.js";import{_ as ie}from"./back-CpyWDUeq.js";import{_ as ne}from"./close-MV0GtgYI.js";import{s as U}from"./toast-nLkwQMu0.js";const re="/assets/game-DBd5QgyC.png",ue=l=>(E("data-v-25049e6c"),l=l(),D(),l),ce={class:"box-header"},de={class:"title"},pe={key:0,class:"box-content"},me={class:"input-wrapper"},ve={class:"input-wrapper",style:{"margin-bottom":"0"}},_e=ue(()=>e("section",{class:"forget-wrapper"},"Â ",-1)),ge={key:1,class:"box-content"},fe={class:"input-wrapper"},we={class:"input-wrapper"},Ce={class:"input-wrapper"},he={class:"input-wrapper"},ye={class:"close-icon"},Re=B({__name:"LoginOrReg",setup(l,{expose:b}){const v=Y(),k=j();let t=r(!1),u=r("login"),c=V(()=>u.value==="login"),g=60,C=r(!1),h=r(g),I=r(),P=V(()=>C.value?`${h.value}s`:"Send");const i=r({email:"",password:""}),a=r({email:"",password:"",invitedCode:"solamb0",captchaCode:""}),O=(n="login")=>{t.value=!0,u.value=n},S=n=>{u.value=n,i.value={email:"",password:""},a.value={email:"",password:"",invitedCode:a.value.invitedCode,captchaCode:""}},N=async()=>{if(!i.value.email)return m("Email is Required");if(!i.value.password)return m("Password is Required");await U(),await k.login({email:i.value.email,password:i.value.password}),K(),v.push("/game")},z=async()=>{try{if(!a.value.email)return m("Email is Required");await X({email:a.value.email}),C.value=!0,I.value=setInterval(()=>{--h.value,h.value===0&&(clearInterval(I.value),h.value=g,C.value=!1)},1e3)}catch{}},A=async()=>{try{if(!a.value.email)return m("Email is Required");if(!a.value.captchaCode)return m("Verification code is Required");if(!a.value.password)return m("Password is Required");if(!a.value.invitedCode)return m("Invited Code is Required");U(),await Z(a.value),ee("Success"),S("login")}catch{}},G=n=>{a.value.invitedCode=n};return M(()=>{clearInterval(I.value)}),b({open:O,autoInputInviteCode:G}),(n,s)=>{const H=se;return R(),Q(H,{show:p(t),"onUpdate:show":s[9]||(s[9]=o=>q(t)?t.value=o:t=o),class:"login-or-reg-cmp","close-on-click-overlay":!1},{default:f(()=>[e("section",{class:J(["box",{"reg-box":!p(c)}])},[e("section",ce,[d(e("img",{src:ie,class:"back",onClick:s[0]||(s[0]=o=>S("login"))},null,512),[[W,!p(c)]]),e("section",de,$(p(c)?"Login":"Register"),1)]),p(c)?(R(),T("section",pe,[e("section",me,[d(e("input",{type:"email",class:"form",placeholder:"Your Email","onUpdate:modelValue":s[1]||(s[1]=o=>i.value.email=o)},null,512),[[_,i.value.email]])]),e("section",ve,[d(e("input",{type:"password",placeholder:"Password",class:"form","onUpdate:modelValue":s[2]||(s[2]=o=>i.value.password=o)},null,512),[[_,i.value.password]])]),_e,w(y,{class:"btn",onClick:N},{default:f(()=>[x("Login")]),_:1}),e("section",{class:"reg",onClick:s[3]||(s[3]=o=>S("register"))},"Register")])):(R(),T("section",ge,[e("section",fe,[d(e("input",{type:"email",placeholder:"Your Email","onUpdate:modelValue":s[4]||(s[4]=o=>a.value.email=o),class:"form"},null,512),[[_,a.value.email]])]),e("section",we,[d(e("input",{style:{flex:"1"},type:"text",placeholder:"Verification code",class:"form","onUpdate:modelValue":s[5]||(s[5]=o=>a.value.captchaCode=o)},null,512),[[_,a.value.captchaCode]]),w(y,{class:"btn-v",type:"p2",onClick:z,disabled:p(C)},{default:f(()=>[x($(p(P)),1)]),_:1},8,["disabled"])]),e("section",Ce,[d(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":s[6]||(s[6]=o=>a.value.password=o),class:"form"},null,512),[[_,a.value.password]])]),e("section",he,[d(e("input",{type:"text",placeholder:"Invited Code","onUpdate:modelValue":s[7]||(s[7]=o=>a.value.invitedCode=o),disabled:"",class:"form"},null,512),[[_,a.value.invitedCode]])]),w(y,{class:"btn reg-btn",onClick:A},{default:f(()=>[x("REGISTER NOW")]),_:1})]))],2),e("section",ye,[e("img",{src:ne,onClick:s[8]||(s[8]=o=>q(t)?t.value=!1:t=!1)})])]),_:1},8,["show"])}}}),xe=F(Re,[["__scopeId","data-v-25049e6c"]]),L=l=>(E("data-v-a7a71a24"),l=l(),D(),l),be={class:"page-home"},ke=L(()=>e("img",{src:re,class:"title"},null,-1)),Ie=L(()=>e("section",{class:"msg"},"Gameplay Introduction",-1)),Se=B({__name:"Home",setup(l){const b=te(),v=r(),k=()=>{var t;(t=v.value)==null||t.open()};return ae(b,async t=>{var c,g;let u=t.query.invite;u&&(await le(),(c=v.value)==null||c.open("register"),(g=v.value)==null||g.autoInputInviteCode(u))},{deep:!0,immediate:!0}),(t,u)=>(R(),T(oe,null,[e("section",be,[ke,w(y,{class:"btn",onClick:k},{default:f(()=>[x("START")]),_:1}),Ie]),w(xe,{ref_key:"loginOrRegRef",ref:v},null,512)],64))}}),Be=F(Se,[["__scopeId","data-v-a7a71a24"]]);export{Be as default};
