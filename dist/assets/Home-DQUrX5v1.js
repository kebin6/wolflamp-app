import{B as y}from"./Button-Dvqetgh8.js";import{d as E,u as Y,a as j,r,c as V,o as K,b as R,e as M,w as f,f as e,g as d,v as W,h as p,t as $,i as T,j as _,k as w,l as x,n as J,m as q,s as m,p as Q,q as X,x as Z,y as ee,P as se,z as F,A as B,_ as D,B as oe,F as ae,C as te,D as le}from"./index-CE6aD7Yz.js";import{_ as ie}from"./back-CpyWDUeq.js";import{_ as ne}from"./close-DVpJPdOZ.js";import{s as U}from"./toast-B0Skdhi8.js";const re="/assets/game-Dk6ghKIF.png",ue=l=>(F("data-v-25049e6c"),l=l(),B(),l),ce={class:"box-header"},de={class:"title"},pe={key:0,class:"box-content"},me={class:"input-wrapper"},ve={class:"input-wrapper",style:{"margin-bottom":"0"}},_e=ue(()=>e("section",{class:"forget-wrapper"},"Â ",-1)),ge={key:1,class:"box-content"},fe={class:"input-wrapper"},we={class:"input-wrapper"},he={class:"input-wrapper"},Ce={class:"input-wrapper"},ye={class:"close-icon"},Re=E({__name:"LoginOrReg",setup(l,{expose:b}){const v=Y(),k=j();let t=r(!1),u=r("login"),c=V(()=>u.value==="login"),g=60,h=r(!1),C=r(g),I=r(),P=V(()=>h.value?`${C.value}s`:"Send");const i=r({email:"",password:""}),o=r({email:"",password:"",invitedCode:"solamb0",captchaCode:""}),O=(n="login")=>{t.value=!0,u.value=n},S=n=>{u.value=n,i.value={email:"",password:""},o.value={email:"",password:"",invitedCode:o.value.invitedCode,captchaCode:""}},N=async()=>{if(!i.value.email)return m("Email is Required");if(!i.value.password)return m("Password is Required");await U(),await k.login({email:i.value.email,password:i.value.password}),Q(),v.push("/game")},z=async()=>{try{if(!o.value.email)return m("Email is Required");await X({email:o.value.email}),h.value=!0,I.value=setInterval(()=>{--C.value,C.value===0&&(clearInterval(I.value),C.value=g,h.value=!1)},1e3)}catch{}},A=async()=>{try{if(!o.value.email)return m("Email is Required");if(!o.value.captchaCode)return m("Verification code is Required");if(!o.value.password)return m("Password is Required");if(!o.value.invitedCode)return m("Invited Code is Required");U(),await Z(o.value),ee("Success"),S("login")}catch{}},G=n=>{o.value.invitedCode=n};return K(()=>{clearInterval(I.value)}),b({open:O,autoInputInviteCode:G}),(n,s)=>{const H=se;return R(),M(H,{show:p(t),"onUpdate:show":s[9]||(s[9]=a=>q(t)?t.value=a:t=a),class:"login-or-reg-cmp","close-on-click-overlay":!1},{default:f(()=>[e("section",{class:J(["box",{"reg-box":!p(c)}])},[e("section",ce,[d(e("img",{src:ie,class:"back",onClick:s[0]||(s[0]=a=>S("login"))},null,512),[[W,!p(c)]]),e("section",de,$(p(c)?"Login":"Register"),1)]),p(c)?(R(),T("section",pe,[e("section",me,[d(e("input",{type:"email",class:"form",placeholder:"Your Email","onUpdate:modelValue":s[1]||(s[1]=a=>i.value.email=a)},null,512),[[_,i.value.email]])]),e("section",ve,[d(e("input",{type:"password",placeholder:"Password",class:"form","onUpdate:modelValue":s[2]||(s[2]=a=>i.value.password=a)},null,512),[[_,i.value.password]])]),_e,w(y,{class:"btn",onClick:N},{default:f(()=>[x("Login")]),_:1}),e("section",{class:"reg",onClick:s[3]||(s[3]=a=>S("register"))},"Register")])):(R(),T("section",ge,[e("section",fe,[d(e("input",{type:"email",placeholder:"Your Email","onUpdate:modelValue":s[4]||(s[4]=a=>o.value.email=a),class:"form"},null,512),[[_,o.value.email]])]),e("section",we,[d(e("input",{style:{flex:"1"},type:"text",placeholder:"Verification code",class:"form","onUpdate:modelValue":s[5]||(s[5]=a=>o.value.captchaCode=a)},null,512),[[_,o.value.captchaCode]]),w(y,{class:"btn-v",type:"p2",onClick:z,disabled:p(h)},{default:f(()=>[x($(p(P)),1)]),_:1},8,["disabled"])]),e("section",he,[d(e("input",{type:"password",placeholder:"Password","onUpdate:modelValue":s[6]||(s[6]=a=>o.value.password=a),class:"form"},null,512),[[_,o.value.password]])]),e("section",Ce,[d(e("input",{type:"text",placeholder:"Invited Code","onUpdate:modelValue":s[7]||(s[7]=a=>o.value.invitedCode=a),disabled:"",class:"form"},null,512),[[_,o.value.invitedCode]])]),w(y,{class:"btn reg-btn",onClick:A},{default:f(()=>[x("REGISTER NOW")]),_:1})]))],2),e("section",ye,[e("img",{src:ne,onClick:s[8]||(s[8]=a=>q(t)?t.value=!1:t=!1)})])]),_:1},8,["show"])}}}),xe=D(Re,[["__scopeId","data-v-25049e6c"]]),L=l=>(F("data-v-d38e6855"),l=l(),B(),l),be={class:"page-home"},ke=L(()=>e("img",{src:re,class:"title"},null,-1)),Ie=L(()=>e("section",{class:"msg"},"Gameplay Introduction",-1)),Se=E({__name:"Home",setup(l){const b=te(),v=r(),k=()=>{var t;(t=v.value)==null||t.open()};return oe(b,async t=>{var c,g;let u=t.query.invite;u&&(await le(),(c=v.value)==null||c.open("register"),(g=v.value)==null||g.autoInputInviteCode(u))},{deep:!0,immediate:!0}),(t,u)=>(R(),T(ae,null,[e("section",be,[ke,w(y,{class:"btn",onClick:k},{default:f(()=>[x("START")]),_:1}),Ie]),w(xe,{ref_key:"loginOrRegRef",ref:v},null,512)],64))}}),Ee=D(Se,[["__scopeId","data-v-d38e6855"]]);export{Ee as default};
