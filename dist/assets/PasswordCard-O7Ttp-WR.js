import{C as k}from"./Card-DqxzTU73.js";import{d as x,c as V,b as c,i as f,f as r,F as B,a6 as P,h as s,a8 as T,g as y,j as E,m as C,n as F,_ as b,r as I,e as N,w,t as _,k as g,l as L}from"./index-DCYTMmCm.js";import{d as M}from"./index-g34m38YP.js";import{B as S}from"./Button-B0XjZcRX.js";const D=["for"],H={key:0,class:"circle"},R=["id"],U=x({__name:"PasswordInput",props:{modelValue:{default:""},isError:{type:Boolean,default:!0}},emits:["update:modelValue","confirm"],setup(i,{emit:u}){const n=i,o=M(),l=u;let e=V({get(){return n.modelValue},set(d){l("update:modelValue",d)}});const a=V(()=>n.isError&&e.value.length===0),p=()=>{e.value.length>=6&&(console.log("输入完成",e.value.length),l("confirm",e.value))};return(d,m)=>(c(),f("section",{class:F(["password-input",{"is-error":a.value}])},[r("label",{for:s(o)},[(c(),f(B,null,P(6,t=>r("section",{key:t,class:"circle-box"},[t<=s(e).length?(c(),f("section",H)):T("",!0)])),64))],8,D),y(r("input",{type:"password",id:s(o),maxlength:"6","onUpdate:modelValue":m[0]||(m[0]=t=>C(e)?e.value=t:e=t),onInput:p},null,40,R),[[E,s(e)]])],2))}}),$=b(U,[["__scopeId","data-v-0ab7ba0f"]]),j={class:"box"},z=["innerHTML"],X={class:"desc"},q={class:"tip"},A=x({__name:"PasswordCard",props:{modelValue:{default:""},title:{default:"Confirm password"},desc:{default:""},btnText:{default:"NEXT"},tip:{default:"Password error, please re-enter"}},emits:["update:modelValue","complete","confirm"],setup(i,{expose:u,emit:n}){const o=i,l=n;let e=V({get(){return o.modelValue},set(t){a.value&&t&&(a.value=!1),l("update:modelValue",t)}}),a=I(!1),p=()=>{l("confirm",e.value)};const d=()=>{l("complete",e.value)};return u({errorFn:()=>{a.value=!0}}),(t,h)=>(c(),N(k,{class:"card-password"},{default:w(()=>[r("section",j,[r("section",{class:"title",innerHTML:o.title},null,8,z),r("section",X,_(o.desc),1),g($,{class:"input",modelValue:s(e),"onUpdate:modelValue":h[0]||(h[0]=v=>C(e)?e.value=v:e=v),onConfirm:d,"is-error":s(a)},null,8,["modelValue","is-error"]),r("section",q,_(s(a)&&!s(e).length?o.tip:""),1),g(S,{class:"btn",onClick:s(p),type:"p2"},{default:w(()=>[L(_(o.btnText),1)]),_:1},8,["onClick"])])]),_:1}))}}),Q=b(A,[["__scopeId","data-v-a03d738b"]]);export{Q as P};
