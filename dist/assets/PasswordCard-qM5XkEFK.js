import{C as k}from"./Card-CJrU-Fbk.js";import{d as x,c as V,b as d,i as f,f as r,F as B,a7 as P,h as t,a9 as T,g as y,j as E,m as C,n as F,_ as b,r as I,e as N,w,t as _,k as g,l as L}from"./index-BDfR2T7Q.js";import{b as M}from"./index-CrafJq2R.js";import{B as S}from"./Button-7n2lWGua.js";const D=["for"],H={key:0,class:"circle"},R=["id"],U=x({__name:"PasswordInput",props:{modelValue:{default:""},isError:{type:Boolean,default:!0}},emits:["update:modelValue","confirm"],setup(i,{emit:u}){const n=i,o=M(),l=u;let e=V({get(){return n.modelValue},set(c){l("update:modelValue",c)}});const a=V(()=>n.isError&&e.value.length===0),p=()=>{e.value.length>=6&&(console.log("输入完成",e.value.length),l("confirm",e.value))};return(c,m)=>(d(),f("section",{class:F(["password-input",{"is-error":a.value}])},[r("label",{for:t(o)},[(d(),f(B,null,P(6,s=>r("section",{key:s,class:"circle-box"},[s<=t(e).length?(d(),f("section",H)):T("",!0)])),64))],8,D),y(r("input",{type:"password",id:t(o),maxlength:"6","onUpdate:modelValue":m[0]||(m[0]=s=>C(e)?e.value=s:e=s),onInput:p},null,40,R),[[E,t(e)]])],2))}}),$=b(U,[["__scopeId","data-v-0ab7ba0f"]]),j={class:"box"},z=["innerHTML"],X={class:"desc"},q={class:"tip"},A=x({__name:"PasswordCard",props:{modelValue:{default:""},title:{default:"Confirm password"},desc:{default:""},btnText:{default:"NEXT"},tip:{default:"Password error, please re-enter"}},emits:["update:modelValue","complete","confirm"],setup(i,{expose:u,emit:n}){const o=i,l=n;let e=V({get(){return o.modelValue},set(s){a.value&&s&&(a.value=!1),l("update:modelValue",s)}}),a=I(!1),p=()=>{l("confirm",e.value)};const c=()=>{l("complete",e.value)};return u({errorFn:s=>{a.value=s}}),(s,h)=>(d(),N(k,{class:"card-password"},{default:w(()=>[r("section",j,[r("section",{class:"title",innerHTML:o.title},null,8,z),r("section",X,_(o.desc),1),g($,{class:"input",modelValue:t(e),"onUpdate:modelValue":h[0]||(h[0]=v=>C(e)?e.value=v:e=v),onConfirm:c,"is-error":t(a)},null,8,["modelValue","is-error"]),r("section",q,_(t(a)&&!t(e).length?o.tip:""),1),g(S,{class:"btn",onClick:t(p),type:"p2"},{default:w(()=>[L(_(o.btnText),1)]),_:1},8,["onClick"])])]),_:1}))}}),Q=b(A,[["__scopeId","data-v-6fe0803a"]]);export{Q as P};
