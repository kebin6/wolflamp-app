import{d as C,a as R,r as d,i,k as _,w as v,f as s,F as m,a7 as g,aN as L,b as l,t as n,h as u,n as D,z as k,A as y,_ as A}from"./index-D8l_vfLs.js";import{L as z}from"./index-Cv9Vt6BM.js";import{N as I}from"./Nav-B0Wn0l67.js";import{C as E}from"./Card-BzlRs4aX.js";import{d as N}from"./dayjs.min-DE2R3_3L.js";import"./back-CpyWDUeq.js";import"./_commonjsHelpers-Cpj98o6Y.js";const c=r=>(k("data-v-c63894a5"),r=r(),y(),r),Y={class:"page-reward g-box"},U={class:"box"},B={class:"detail"},F={class:"info"},M={class:"number"},T=c(()=>s("section",{class:"text"},"TODAY'S REWARD",-1)),V=c(()=>s("section",{class:"shu"},null,-1)),H={class:"info"},W={class:"number"},j=c(()=>s("section",{class:"text"},"ACCUMULATED REWARDS",-1)),O={class:"tabs"},$={class:"tabs-header"},q=["onClick"],G={class:"tabs-content"},J={class:"table"},K=c(()=>s("section",{class:"header"},[s("section",null,"ID"),s("section",null,"Contribution value")],-1)),P=c(()=>s("section",{class:"hr"},null,-1)),Q={class:"content"},X={class:"label-box"},Z={class:"value-box p-b"},ss={class:"text"},es=C({__name:"Reward",setup(r){const h=R(),p=d(0),b=d(["First level","Second level","Third level"]),e=d({total:0,page:1,pageSize:10,list:[],loading:!1,finished:!1,params:{contributorLevel:1}}),S=a=>{p.value=a,e.value={total:0,page:1,pageSize:10,list:[],loading:!1,finished:!1,params:{contributorLevel:a+1}}},x=async()=>{try{const{data:a}=await L({page:e.value.page,pageSize:e.value.pageSize,...e.value.params});e.value.list=e.value.list.concat(a.data||[]),e.value.total=a.total,e.value.page++,e.value.loading=!1,e.value.list.length>=(a.total||0)&&(e.value.finished=!0)}catch{e.value.finished=!0}};return(a,f)=>{const w=z;return l(),i("section",Y,[_(I,{title:"Reward"}),_(E,{class:"card-number"},{default:v(()=>{var t,o;return[s("section",U,[s("section",B,[s("section",F,[s("section",M,n(((t=u(h).user.info)==null?void 0:t.todayReward)||0),1),T]),V,s("section",H,[s("section",W,n(((o=u(h).user.info)==null?void 0:o.totalReward)||0),1),j])])])]}),_:1}),s("section",O,[s("section",$,[(l(!0),i(m,null,g(b.value,(t,o)=>(l(),i("section",{key:o,class:D(["tabs-header-item",{active:o===p.value}]),onClick:ts=>S(o)},n(t),11,q))),128))]),s("section",G,[_(w,{loading:e.value.loading,"onUpdate:loading":f[0]||(f[0]=t=>e.value.loading=t),finished:e.value.finished,"finished-text":"没有更多了",onLoad:x,offset:"30"},{default:v(()=>[s("section",J,[K,P,s("section",Q,[(l(!0),i(m,null,g(e.value.list,t=>(l(),i("section",{class:"form-box flex",key:t.id},[s("section",X,[s("section",null,n(t.contributorEmail),1),s("section",null,n(u(N)(t.createAt*1e3).format("YYYY/MM/DD HH:mm:ss")),1)]),s("section",Z,[s("section",ss,n(t.num),1)])]))),128))])])]),_:1},8,["loading","finished"])])])])}}}),ds=A(es,[["__scopeId","data-v-c63894a5"]]);export{ds as default};
